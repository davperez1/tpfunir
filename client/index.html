<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
        <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.35/dist/web3.min.js"></script>
        <script>
        
        var connectState

        async function start() {
            window.addEventListener('load', async () => {
                if (window.ethereum) {
                    console.log("Metamask detected!");
                    web3 = new Web3(window.ethereum);
                    await window.ethereum.enable();
                    
                    var accounts = await web3.eth.getAccounts();
                    var cuentaUsuario = accounts[0];

                    var resultado = cuentaUsuario;
                    document.getElementById('lbResultado').innerHTML = resultado;

                }
                else{
                    console.log("no se puede conectar a metamask");
                }
            });
        }

        start(); 

        </script>
        </head>
        <body>
            
            <div id="resultado">
                <label id="lbResultado">test</label>
            </div>

       
            <div id="console"></div>
        </body>
</html>